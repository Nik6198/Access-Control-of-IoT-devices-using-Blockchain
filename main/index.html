<!DOCTYPE HTML>
<!--
	Ethereal by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Ethereal by HTML5 UP</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	<script src="assets/js/sha.js"></script>
	<script src="./node_modules/web3/dist/web3.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>

</head>

<body class="is-preload">

	<!-- Page Wrapper -->
	<div id="page-wrapper">

		<!-- Wrapper -->
		<div id="wrapper">

			<!-- Panel (Banner) -->
			<section class="panel banner right">
				<div class="content color0 span-3-75">
					<h1 class="major">IoT Access Control - <br />
						Blockchain</h1>
					<p>This is <strong>Ethereal</strong>, which helps to control access to IoT devices increasing the security of IoT
						network using Blockchain :)</p>
					<ul class="actions">
						<li><a href="#first" class="button primary color1 circle icon fa-angle-right">Next</a></li>
					</ul>
				</div>
				<div class="image filtered span-1-75" data-position="25% 25%">
					<img src="images/pic01.jpg" alt="" />
				</div>
			</section>

			<!-- Panel (Spotlight) -->
			<section class="panel spotlight medium " id="first">
				<div class="content span-7">
					<div class="field">
						<label><b>
								<h2>Private key</h2>
							</b></label>
						<input type="text" name="key" id="key" style="color:blue; font-size: 22px;font-weight:600;"/>
						<br>
						<table class="actions">
							<tr>
								<td><input type="submit" id="generate" value="Generate Key" class="button primary" /></td>
								<td><input type="submit" id="add" value="Add Key" class="button primary" /></td>
								<script>
									if (typeof web3 !== 'undefined') 
										{
										 web3 = new Web3(web3.currentProvider);
										 } 
										else 
										{
										 // set the provider you want from Web3.providers
										web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
										 }
										 web3.eth.defaultAccount = web3.eth.accounts[0];
										 var AddressContract = web3.eth.contract([
	{
		"constant": false,
		"inputs": [
			{
				"name": "newAddress",
				"type": "bytes32"
			}
		],
		"name": "addMember",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "getElements",
		"outputs": [
			{
				"name": "",
				"type": "bytes32[]"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "findAddress",
				"type": "bytes32"
			}
		],
		"name": "find",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "MemberAddresses",
		"outputs": [
			{
				"name": "",
				"type": "bytes32"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]);
var Address = AddressContract.at('0xe30176d9c07d74e3a820f03e2a9c451d1bb83020');								
										$("#add").click(function() {
											
											var key = '"'+$("#key").val()+'"';
											console.log(key);
											var res = Address.find("0x1cfc3307efc7383f79df5b941e6d5f8b4196fdbf",function(error, result){
  if(!error){
    
    console.log("Result:"+result);
    }
 else
   console.error(error);
 });										 
											
										
										});
										$("#generate").click(function() {
										 var key = $("#key").val();
										 $("#key").val("0x"+key);										 
										});
										 </script>
							</tr>
						</table>
					</div>
				</div>
				<div class="image filtered tinted" data-position="top left">
					<img src="images/pic02.jpg" alt="" />
				</div>
			</section>

			<!-- Panel -->
			<section class="panel color1">
				<div class="intro joined">
					<h2 class="major">Check Blockchain Status</h2>
					<form action="https://etherscan.io/" target="blank">
						<p><input type="submit" value="Explore!" class="button primary" /></p>
					</form>
				</div>
				<div class="inner">
					<ul class="grid-icons three connected">
						<li><span class="icon fa-diamond"><span class="label">Lorem</span></span></li>
						<li><span class="icon fa-camera-retro"><span class="label">Ipsum</span></span></li>
						<li><span class="icon fa-cog"><span class="label">Dolor</span></span></li>
						<li><span class="icon fa-paper-plane"><span class="label">Sit</span></span></li>
						<li><span class="icon fa-bar-chart"><span class="label">Amet</span></span></li>
						<li><span class="icon fa-code"><span class="label">Nullam</span></span></li>
					</ul>
				</div>
			</section>
<section class="panel banner right">
				<div class="content color2 span-3-75">
					<h2 class="major">Log Transactions</h2>
					<object width="400" height="400" data="./server.txt" style="background-color: #fcf9e3 ">
					</object>

				</div>
			</section>			
			
			<section class="panel banner right">
				<div class="content color2 span-3-75">
					<h2 class="major">Temperature Sensor Transactions</h2>
					<object width="400" height="400" data="./temperature.txt" style="background-color: #fcf9e3 ">
					</object>

				</div>
			</section>
			<section class="panel banner right">
				<div class="content color0 span-3-75">
					<h2 class="major">Active Nodes</h2>
					<object width="400" height="400" data="../out.txt" style="background-color: #fcf9e3 ">
					</object>

				</div>
			</section>
			<section class="panel spotlight medium " id="first">
				<div class="content span-7">
					<div class="field">
						<label><b>
								<h2>Temperature</h2>
							</b></label>
						<br>
						<table class="actions">
							<tr>
								<form action="http://localhost:3000/temperature/status?status=true" method="post" target="_self">
									<td><input type="submit" value="Turn On" class="button primary" /></td>
								</form>
								<form action="http://localhost:3000/temperature/status?status=false" method="post" target="_self">
									<td><input type="submit" value="Turn Off" class="button primary" /></td>
								</form>
							</tr>
						</table>
					</div>
				</div>
				<div class="image filtered tinted" data-position="top left">
					<img src="images/pic05.jpg" alt="" />
				</div>
			</section>
			<section class="panel spotlight medium " id="first">
				<div class="content span-7">
					<div class="field">
						<label><b>
								<h2>IR Sensor</h2>
							</b></label>

						<br>
						<table class="actions">
							<tr>
								<form action="http://localhost:3000/ir/status?status=true" method="post" target="_self">
									<td><input type="submit" value="Turn On" class="button primary" /></td>
								</form>
								<form action="http://localhost:3000/ir/status?status=false" method="post" target="_self">
									<td><input type="submit" value="Turn Off" class="button primary" /></td>
								</form>
							</tr>
						</table>
					</div>
				</div>
				<div class="image filtered tinted" data-position="top left">
					<img src="images/pic05.jpg" alt="" />
				</div>
			</section>
			<section class="panel banner right">
				<div class="content color2 span-3-75">
					<h2 class="major">Validity of Node</h2>
					<form action="https://etherscan.io/" target="blank">
						<label><b>
								<h2>Enter Key</h2>
							</b></label>
						<input type="text" name="key" id="key" />
						<br>
						<p><input type="submit" value="Check" class="button primary" /></p>
						<label name="status"></label>
					</form>
				</div>
			</section>



			<!-- Copyright -->
			<div class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</div>

		</div>

	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>
